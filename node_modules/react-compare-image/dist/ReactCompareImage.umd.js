(function(l,_){typeof exports=="object"&&typeof module<"u"?module.exports=_(require("react")):typeof define=="function"&&define.amd?define(["react"],_):(l=typeof globalThis<"u"?globalThis:l||self,l.ReactCompareImage=_(l.React))})(this,function(l){"use strict";var _={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q;function ie(){if(q)return I;q=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function f(n,p,h){var T=null;if(h!==void 0&&(T=""+h),p.key!==void 0&&(T=""+p.key),"key"in p){h={};for(var S in p)S!=="key"&&(h[S]=p[S])}else h=p;return p=h.ref,{$$typeof:i,type:n,key:T,ref:p!==void 0?p:null,props:h}}return I.Fragment=s,I.jsx=f,I.jsxs=f,I}var N={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee;function se(){return ee||(ee=1,process.env.NODE_ENV!=="production"&&function(){function i(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case B:return"Profiler";case H:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList";case g:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case C:return"Portal";case v:return e.displayName||"Context";case c:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return t=e.displayName||null,t!==null?t:i(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return i(e(t))}catch{}}return null}function s(e){return""+e}function f(e){try{s(e);var t=!1}catch{t=!0}if(t){t=console;var r=t.error,o=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",o),s(e)}}function n(e){if(e===R)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===F)return"<...>";try{var t=i(e);return t?"<"+t+">":"<...>"}catch{return"<...>"}}function p(){var e=b.A;return e===null?null:e.getOwner()}function h(){return Error("react-stack-top-frame")}function T(e){if(k.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function S(e,t){function r(){W||(W=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",t))}r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}function M(){var e=i(this.type);return P[e]||(P[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function G(e,t,r,o,y,A){var a=r.ref;return e={$$typeof:D,type:e,key:t,props:r,_owner:o},(a!==void 0?a:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:M}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:y}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:A}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function Y(e,t,r,o,y,A){var a=t.children;if(a!==void 0)if(o)if(O(a)){for(o=0;o<a.length;o++)z(a[o]);Object.freeze&&Object.freeze(a)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else z(a);if(k.call(t,"key")){a=i(e);var w=Object.keys(t).filter(function(oe){return oe!=="key"});o=0<w.length?"{key: someKey, "+w.join(": ..., ")+": ...}":"{key: someKey}",L[a+o]||(w=0<w.length?"{"+w.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,o,a,w,a),L[a+o]=!0)}if(a=null,r!==void 0&&(f(r),a=""+r),T(t)&&(f(t.key),a=""+t.key),"key"in t){r={};for(var $ in t)$!=="key"&&(r[$]=t[$])}else r=t;return a&&S(r,typeof e=="function"?e.displayName||e.name||"Unknown":e),G(e,a,r,p(),y,A)}function z(e){U(e)?e._store&&(e._store.validated=1):typeof e=="object"&&e!==null&&e.$$typeof===F&&(e._payload.status==="fulfilled"?U(e._payload.value)&&e._payload.value._store&&(e._payload.value._store.validated=1):e._store&&(e._store.validated=1))}function U(e){return typeof e=="object"&&e!==null&&e.$$typeof===D}var j=l,D=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),v=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),Q=Symbol.for("react.client.reference"),b=j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.prototype.hasOwnProperty,O=Array.isArray,E=console.createTask?console.createTask:function(){return null};j={react_stack_bottom_frame:function(e){return e()}};var W,P={},u=j.react_stack_bottom_frame.bind(j,h)(),m=E(n(h)),L={};N.Fragment=R,N.jsx=function(e,t,r){var o=1e4>b.recentlyCreatedOwnerStacks++;return Y(e,t,r,!1,o?Error("react-stack-top-frame"):u,o?E(n(e)):m)},N.jsxs=function(e,t,r){var o=1e4>b.recentlyCreatedOwnerStacks++;return Y(e,t,r,!0,o?Error("react-stack-top-frame"):u,o?E(n(e)):m)}}()),N}var te;function le(){return te||(te=1,process.env.NODE_ENV==="production"?_.exports=ie():_.exports=se()),_.exports}var d=le(),ce=process.env.NODE_ENV==="production",X="Invariant failed";function re(i,s){if(!i){if(ce)throw new Error(X);var f=typeof s=="function"?s():s,n=f?"".concat(X,": ").concat(f):X;throw new Error(n)}}function ue(i){const s=l.useRef(null);return l.useLayoutEffect(()=>{if(!s.current)return;const f=new ResizeObserver(n=>{re(n[0],"ResizeObserver should have at least one entry"),i(n[0].contentRect.width)});return f.observe(s.current),i(s.current.getBoundingClientRect().width),()=>{f.disconnect()}},[i]),s}function de(i,s,f,n){const p=n==="taller"?Math.max(s,f):Math.min(s,f);return i*p}function ne(i){return i.naturalHeight/i.naturalWidth}return i=>{const{aspectRatio:s="taller",handle:f=null,handleSize:n=40,hover:p=!1,leftImage:h,leftImageAlt:T="",leftImageCss:S={},leftImageLabel:M=null,onSliderPositionChange:G,rightImage:Y,rightImageAlt:z="",rightImageCss:U={},rightImageLabel:j=null,skeleton:D=null,sliderLineColor:C="#ffffff",sliderLineWidth:R=2,sliderPositionPercentage:H=.5,vertical:B=!1}=i,c=!B,[v,Z]=l.useState(H),[V,J]=l.useState(!1),[x,F]=l.useState(0),[g,Q]=l.useState(0),b=ue(m=>F(m)),k=l.useRef(null),O=l.useRef(null),[E,W]=l.useState(!1),P=l.useCallback(()=>{O.current?.complete&&k.current?.complete&&W(!0)},[]);l.useEffect(()=>(P(),()=>{W(!1)}),[h,Y,P]),l.useEffect(()=>{if(!(O.current&&k.current)||x===0||!E)return;const m=de(x,ne(O.current),ne(k.current),s);Q(m)},[x,E,s]),l.useEffect(()=>{if(!b.current||!E)return;const m=r=>{if(!b.current)return;const o=b.current.getBoundingClientRect();let y,A;if(r instanceof TouchEvent){const K=r.touches[0];re(K),y=K.clientX,A=K.clientY}else y=r.clientX,A=r.clientY;const a=c?y-o.left:A-o.top,w=R/2,$=c?x-w:g-w,ae=Math.min(Math.max(a,w),$)/(c?x:g);Z(ae),G?.(ae)},L=r=>{J(!0),"touches"in r||r.preventDefault(),m(r),window.addEventListener("mousemove",m),window.addEventListener("touchmove",m)},e=()=>{J(!1),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m)},t=b.current;return t.addEventListener("touchstart",L),window.addEventListener("touchend",e),p?(t.addEventListener("mousemove",m),t.addEventListener("mouseleave",e)):(t.addEventListener("mousedown",L),window.addEventListener("mouseup",e)),()=>{t.removeEventListener("touchstart",L),window.removeEventListener("touchend",e),t.removeEventListener("mousemove",m),t.removeEventListener("mouseleave",e),t.removeEventListener("mousedown",L),window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m)}},[E,s,g,x,c,p,R,b]);const u={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${g}px`,overflow:"hidden"},rightImage:{clipPath:c?`inset(0px 0px 0px ${x*v}px)`:`inset(${g*v}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...U},leftImage:{clipPath:c?`inset(0px ${x*(1-v)}px 0px 0px)`:`inset(0px 0px ${g*(1-v)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...S},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...c?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${x*v-n/2}px`,top:0,width:`${n}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${n}px`,left:0,top:`${g*v-n/2}px`,width:"100%"}},line:{background:C,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:c?"100%":`${R}px`,width:c?`${R}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${R}px solid ${C}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${n}px`,justifyContent:"center",width:`${n}px`,transform:c?"none":"rotate(90deg)"},leftArrow:{border:`inset ${n*.15}px rgba(0,0,0,0)`,borderRight:`${n*.15}px solid ${C}`,height:"0px",marginLeft:`-${n*.25}px`,marginRight:`${n*.25}px`,width:"0px"},rightArrow:{border:`inset ${n*.15}px rgba(0,0,0,0)`,borderLeft:`${n*.15}px solid ${C}`,height:"0px",marginRight:`-${n*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:c?"5%":"50%",opacity:V?0:1,padding:"10px 20px",position:"absolute",top:c?"50%":"3%",transform:c?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:V?0:1,padding:"10px 20px",position:"absolute",...c?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:c?`inset(0px ${x*(1-v)}px 0px 0px)`:`inset(0px 0px ${g*(1-v)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:c?`inset(0px 0px 0px ${x*v}px)`:`inset(${g*v}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return d.jsxs(d.Fragment,{children:[D&&!E&&d.jsx("div",{style:{...u.container},children:D}),d.jsxs("div",{style:{...u.container,display:E?"block":"none"},ref:b,"data-testid":"container",children:[d.jsx("img",{onLoad:()=>P(),alt:z,"data-testid":"right-image",ref:k,src:Y,style:u.rightImage}),d.jsx("img",{onLoad:()=>P(),alt:T,"data-testid":"left-image",ref:O,src:h,style:u.leftImage}),d.jsxs("div",{style:u.slider,children:[d.jsx("div",{style:u.line}),f?d.jsx("div",{style:u.handleCustom,children:f}):d.jsxs("div",{style:u.handleDefault,children:[d.jsx("div",{style:u.leftArrow}),d.jsx("div",{style:u.rightArrow})]}),d.jsx("div",{style:u.line})]}),M&&d.jsx("div",{style:u.leftLabelContainer,children:d.jsx("div",{style:u.leftLabel,children:M})}),j&&d.jsx("div",{style:u.rightLabelContainer,children:d.jsx("div",{style:u.rightLabel,children:j})})]})]})}});
