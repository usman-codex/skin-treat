import le, { useRef as ee, useLayoutEffect as ce, useState as Y, useCallback as ue, useEffect as Q } from "react";
var q = { exports: {} }, D = {};
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var ne;
function de() {
  if (ne) return D;
  ne = 1;
  var i = Symbol.for("react.transitional.element"), s = Symbol.for("react.fragment");
  function u(n, f, m) {
    var _ = null;
    if (m !== void 0 && (_ = "" + m), f.key !== void 0 && (_ = "" + f.key), "key" in f) {
      m = {};
      for (var y in f)
        y !== "key" && (m[y] = f[y]);
    } else m = f;
    return f = m.ref, {
      $$typeof: i,
      type: n,
      key: _,
      ref: f !== void 0 ? f : null,
      props: m
    };
  }
  return D.Fragment = s, D.jsx = u, D.jsxs = u, D;
}
var F = {};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var oe;
function fe() {
  return oe || (oe = 1, process.env.NODE_ENV !== "production" && function() {
    function i(e) {
      if (e == null) return null;
      if (typeof e == "function")
        return e.$$typeof === B ? null : e.displayName || e.name || null;
      if (typeof e == "string") return e;
      switch (e) {
        case w:
          return "Fragment";
        case G:
          return "Profiler";
        case X:
          return "StrictMode";
        case U:
          return "Suspense";
        case V:
          return "SuspenseList";
        case v:
          return "Activity";
      }
      if (typeof e == "object")
        switch (typeof e.tag == "number" && console.error(
          "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
        ), e.$$typeof) {
          case L:
            return "Portal";
          case h:
            return e.displayName || "Context";
          case l:
            return (e._context.displayName || "Context") + ".Consumer";
          case H:
            var t = e.render;
            return e = e.displayName, e || (e = t.displayName || t.name || "", e = e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef"), e;
          case x:
            return t = e.displayName || null, t !== null ? t : i(e.type) || "Memo";
          case C:
            t = e._payload, e = e._init;
            try {
              return i(e(t));
            } catch {
            }
        }
      return null;
    }
    function s(e) {
      return "" + e;
    }
    function u(e) {
      try {
        s(e);
        var t = !1;
      } catch {
        t = !0;
      }
      if (t) {
        t = console;
        var r = t.error, o = typeof Symbol == "function" && Symbol.toStringTag && e[Symbol.toStringTag] || e.constructor.name || "Object";
        return r.call(
          t,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          o
        ), s(e);
      }
    }
    function n(e) {
      if (e === w) return "<>";
      if (typeof e == "object" && e !== null && e.$$typeof === C)
        return "<...>";
      try {
        var t = i(e);
        return t ? "<" + t + ">" : "<...>";
      } catch {
        return "<...>";
      }
    }
    function f() {
      var e = g.A;
      return e === null ? null : e.getOwner();
    }
    function m() {
      return Error("react-stack-top-frame");
    }
    function _(e) {
      if (j.call(e, "key")) {
        var t = Object.getOwnPropertyDescriptor(e, "key").get;
        if (t && t.isReactWarning) return !1;
      }
      return e.key !== void 0;
    }
    function y(e, t) {
      function r() {
        I || (I = !0, console.error(
          "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
          t
        ));
      }
      r.isReactWarning = !0, Object.defineProperty(e, "key", {
        get: r,
        configurable: !0
      });
    }
    function W() {
      var e = i(this.type);
      return k[e] || (k[e] = !0, console.error(
        "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
      )), e = this.props.ref, e !== void 0 ? e : null;
    }
    function J(e, t, r, o, R, P) {
      var a = r.ref;
      return e = {
        $$typeof: $,
        type: e,
        key: t,
        props: r,
        _owner: o
      }, (a !== void 0 ? a : null) !== null ? Object.defineProperty(e, "ref", {
        enumerable: !1,
        get: W
      }) : Object.defineProperty(e, "ref", { enumerable: !1, value: null }), e._store = {}, Object.defineProperty(e._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: 0
      }), Object.defineProperty(e, "_debugInfo", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: null
      }), Object.defineProperty(e, "_debugStack", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: R
      }), Object.defineProperty(e, "_debugTask", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: P
      }), Object.freeze && (Object.freeze(e.props), Object.freeze(e)), e;
    }
    function O(e, t, r, o, R, P) {
      var a = t.children;
      if (a !== void 0)
        if (o)
          if (A(a)) {
            for (o = 0; o < a.length; o++)
              M(a[o]);
            Object.freeze && Object.freeze(a);
          } else
            console.error(
              "React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead."
            );
        else M(a);
      if (j.call(t, "key")) {
        a = i(e);
        var E = Object.keys(t).filter(function(te) {
          return te !== "key";
        });
        o = 0 < E.length ? "{key: someKey, " + E.join(": ..., ") + ": ...}" : "{key: someKey}", S[a + o] || (E = 0 < E.length ? "{" + E.join(": ..., ") + ": ...}" : "{}", console.error(
          `A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,
          o,
          a,
          E,
          a
        ), S[a + o] = !0);
      }
      if (a = null, r !== void 0 && (u(r), a = "" + r), _(t) && (u(t.key), a = "" + t.key), "key" in t) {
        r = {};
        for (var N in t)
          N !== "key" && (r[N] = t[N]);
      } else r = t;
      return a && y(
        r,
        typeof e == "function" ? e.displayName || e.name || "Unknown" : e
      ), J(
        e,
        a,
        r,
        f(),
        R,
        P
      );
    }
    function M(e) {
      z(e) ? e._store && (e._store.validated = 1) : typeof e == "object" && e !== null && e.$$typeof === C && (e._payload.status === "fulfilled" ? z(e._payload.value) && e._payload.value._store && (e._payload.value._store.validated = 1) : e._store && (e._store.validated = 1));
    }
    function z(e) {
      return typeof e == "object" && e !== null && e.$$typeof === $;
    }
    var T = le, $ = Symbol.for("react.transitional.element"), L = Symbol.for("react.portal"), w = Symbol.for("react.fragment"), X = Symbol.for("react.strict_mode"), G = Symbol.for("react.profiler"), l = Symbol.for("react.consumer"), h = Symbol.for("react.context"), H = Symbol.for("react.forward_ref"), U = Symbol.for("react.suspense"), V = Symbol.for("react.suspense_list"), x = Symbol.for("react.memo"), C = Symbol.for("react.lazy"), v = Symbol.for("react.activity"), B = Symbol.for("react.client.reference"), g = T.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, j = Object.prototype.hasOwnProperty, A = Array.isArray, b = console.createTask ? console.createTask : function() {
      return null;
    };
    T = {
      react_stack_bottom_frame: function(e) {
        return e();
      }
    };
    var I, k = {}, c = T.react_stack_bottom_frame.bind(
      T,
      m
    )(), p = b(n(m)), S = {};
    F.Fragment = w, F.jsx = function(e, t, r) {
      var o = 1e4 > g.recentlyCreatedOwnerStacks++;
      return O(
        e,
        t,
        r,
        !1,
        o ? Error("react-stack-top-frame") : c,
        o ? b(n(e)) : p
      );
    }, F.jsxs = function(e, t, r) {
      var o = 1e4 > g.recentlyCreatedOwnerStacks++;
      return O(
        e,
        t,
        r,
        !0,
        o ? Error("react-stack-top-frame") : c,
        o ? b(n(e)) : p
      );
    };
  }()), F;
}
var ae;
function pe() {
  return ae || (ae = 1, process.env.NODE_ENV === "production" ? q.exports = de() : q.exports = fe()), q.exports;
}
var d = pe(), me = process.env.NODE_ENV === "production", K = "Invariant failed";
function se(i, s) {
  if (!i) {
    if (me)
      throw new Error(K);
    var u = typeof s == "function" ? s() : s, n = u ? "".concat(K, ": ").concat(u) : K;
    throw new Error(n);
  }
}
function xe(i) {
  const s = ee(null);
  return ce(() => {
    if (!s.current)
      return;
    const u = new ResizeObserver((n) => {
      se(n[0], "ResizeObserver should have at least one entry"), i(n[0].contentRect.width);
    });
    return u.observe(s.current), i(s.current.getBoundingClientRect().width), () => {
      u.disconnect();
    };
  }, [i]), s;
}
function he(i, s, u, n) {
  const f = n === "taller" ? Math.max(s, u) : Math.min(s, u);
  return i * f;
}
function ie(i) {
  return i.naturalHeight / i.naturalWidth;
}
const ge = (i) => {
  const {
    aspectRatio: s = "taller",
    handle: u = null,
    handleSize: n = 40,
    hover: f = !1,
    leftImage: m,
    leftImageAlt: _ = "",
    leftImageCss: y = {},
    leftImageLabel: W = null,
    onSliderPositionChange: J,
    rightImage: O,
    rightImageAlt: M = "",
    rightImageCss: z = {},
    rightImageLabel: T = null,
    skeleton: $ = null,
    sliderLineColor: L = "#ffffff",
    sliderLineWidth: w = 2,
    sliderPositionPercentage: X = 0.5,
    vertical: G = !1
  } = i, l = !G, [h, H] = Y(
    X
  ), [U, V] = Y(!1), [x, C] = Y(0), [v, B] = Y(0), g = xe((p) => C(p)), j = ee(null), A = ee(null), [b, I] = Y(!1), k = ue(() => {
    A.current?.complete && j.current?.complete && I(!0);
  }, []);
  Q(() => (k(), () => {
    I(!1);
  }), [m, O, k]), Q(() => {
    if (!(A.current && j.current) || x === 0 || !b)
      return;
    const p = he(
      x,
      ie(A.current),
      ie(j.current),
      s
    );
    B(p);
  }, [x, b, s]), Q(() => {
    if (!g.current || !b)
      return;
    const p = (r) => {
      if (!g.current)
        return;
      const o = g.current.getBoundingClientRect();
      let R, P;
      if (r instanceof TouchEvent) {
        const Z = r.touches[0];
        se(Z), R = Z.clientX, P = Z.clientY;
      } else
        R = r.clientX, P = r.clientY;
      const a = l ? R - o.left : P - o.top, E = w / 2, N = l ? x - E : v - E, re = Math.min(
        Math.max(a, E),
        N
      ) / (l ? x : v);
      H(re), J?.(re);
    }, S = (r) => {
      V(!0), "touches" in r || r.preventDefault(), p(r), window.addEventListener("mousemove", p), window.addEventListener("touchmove", p);
    }, e = () => {
      V(!1), window.removeEventListener("mousemove", p), window.removeEventListener("touchmove", p);
    }, t = g.current;
    return t.addEventListener("touchstart", S), window.addEventListener("touchend", e), f ? (t.addEventListener("mousemove", p), t.addEventListener("mouseleave", e)) : (t.addEventListener("mousedown", S), window.addEventListener("mouseup", e)), () => {
      t.removeEventListener("touchstart", S), window.removeEventListener("touchend", e), t.removeEventListener("mousemove", p), t.removeEventListener("mouseleave", e), t.removeEventListener("mousedown", S), window.removeEventListener("mouseup", e), window.removeEventListener("mousemove", p), window.removeEventListener("touchmove", p);
    };
  }, [
    b,
    s,
    v,
    x,
    l,
    f,
    w,
    g
    // onSliderPositionChange, // may cause infinite loop
  ]);
  const c = {
    container: {
      boxSizing: "border-box",
      position: "relative",
      width: "100%",
      height: `${v}px`,
      overflow: "hidden"
    },
    rightImage: {
      clipPath: l ? `inset(0px 0px 0px ${x * h}px)` : `inset(${v * h}px 0px 0px 0px)`,
      display: "block",
      height: "100%",
      objectFit: "cover",
      position: "absolute",
      width: "100%",
      ...z
    },
    leftImage: {
      clipPath: l ? `inset(0px ${x * (1 - h)}px 0px 0px)` : `inset(0px 0px ${v * (1 - h)}px 0px)`,
      display: "block",
      height: "100%",
      objectFit: "cover",
      position: "absolute",
      width: "100%",
      ...y
    },
    slider: {
      alignItems: "center",
      display: "flex",
      justifyContent: "center",
      position: "absolute",
      ...l ? {
        cursor: "ew-resize",
        flexDirection: "column",
        height: "100%",
        left: `${x * h - n / 2}px`,
        top: 0,
        width: `${n}px`
      } : {
        cursor: "ns-resize",
        flexDirection: "row",
        height: `${n}px`,
        left: 0,
        top: `${v * h - n / 2}px`,
        width: "100%"
      }
    },
    line: {
      background: L,
      boxShadow: "0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",
      flex: "0 1 auto",
      height: l ? "100%" : `${w}px`,
      width: l ? `${w}px` : "100%"
    },
    handleCustom: {
      alignItems: "center",
      boxSizing: "border-box",
      display: "flex",
      flex: "1 0 auto",
      height: "auto",
      justifyContent: "center",
      width: "auto"
    },
    handleDefault: {
      alignItems: "center",
      border: `${w}px solid ${L}`,
      borderRadius: "100%",
      boxShadow: "0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",
      boxSizing: "border-box",
      display: "flex",
      flex: "1 0 auto",
      height: `${n}px`,
      justifyContent: "center",
      width: `${n}px`,
      transform: l ? "none" : "rotate(90deg)"
    },
    leftArrow: {
      border: `inset ${n * 0.15}px rgba(0,0,0,0)`,
      borderRight: `${n * 0.15}px solid ${L}`,
      height: "0px",
      marginLeft: `-${n * 0.25}px`,
      // for IE11
      marginRight: `${n * 0.25}px`,
      width: "0px"
    },
    rightArrow: {
      border: `inset ${n * 0.15}px rgba(0,0,0,0)`,
      borderLeft: `${n * 0.15}px solid ${L}`,
      height: "0px",
      marginRight: `-${n * 0.25}px`,
      // for IE11
      width: "0px"
    },
    leftLabel: {
      background: "rgba(0, 0, 0, 0.5)",
      color: "white",
      left: l ? "5%" : "50%",
      opacity: U ? 0 : 1,
      padding: "10px 20px",
      position: "absolute",
      top: l ? "50%" : "3%",
      transform: l ? "translate(0,-50%)" : "translate(-50%, 0)",
      transition: "opacity 0.1s ease-out"
    },
    rightLabel: {
      background: "rgba(0, 0, 0, 0.5)",
      color: "white",
      opacity: U ? 0 : 1,
      padding: "10px 20px",
      position: "absolute",
      ...l ? {
        right: "5%",
        top: "50%",
        transform: "translate(0,-50%)"
      } : {
        left: "50%",
        bottom: "3%",
        transform: "translate(-50%, 0)"
      },
      transition: "opacity 0.1s ease-out"
    },
    leftLabelContainer: {
      clipPath: l ? `inset(0px ${x * (1 - h)}px 0px 0px)` : `inset(0px 0px ${v * (1 - h)}px 0px)`,
      height: "100%",
      position: "absolute",
      width: "100%"
    },
    rightLabelContainer: {
      clipPath: l ? `inset(0px 0px 0px ${x * h}px)` : `inset(${v * h}px 0px 0px 0px)`,
      height: "100%",
      position: "absolute",
      width: "100%"
    }
  };
  return /* @__PURE__ */ d.jsxs(d.Fragment, { children: [
    $ && !b && /* @__PURE__ */ d.jsx("div", { style: { ...c.container }, children: $ }),
    /* @__PURE__ */ d.jsxs(
      "div",
      {
        style: {
          ...c.container,
          display: b ? "block" : "none"
        },
        ref: g,
        "data-testid": "container",
        children: [
          /* @__PURE__ */ d.jsx(
            "img",
            {
              onLoad: () => k(),
              alt: M,
              "data-testid": "right-image",
              ref: j,
              src: O,
              style: c.rightImage
            }
          ),
          /* @__PURE__ */ d.jsx(
            "img",
            {
              onLoad: () => k(),
              alt: _,
              "data-testid": "left-image",
              ref: A,
              src: m,
              style: c.leftImage
            }
          ),
          /* @__PURE__ */ d.jsxs("div", { style: c.slider, children: [
            /* @__PURE__ */ d.jsx("div", { style: c.line }),
            u ? /* @__PURE__ */ d.jsx("div", { style: c.handleCustom, children: u }) : /* @__PURE__ */ d.jsxs("div", { style: c.handleDefault, children: [
              /* @__PURE__ */ d.jsx("div", { style: c.leftArrow }),
              /* @__PURE__ */ d.jsx("div", { style: c.rightArrow })
            ] }),
            /* @__PURE__ */ d.jsx("div", { style: c.line })
          ] }),
          W && /* @__PURE__ */ d.jsx("div", { style: c.leftLabelContainer, children: /* @__PURE__ */ d.jsx("div", { style: c.leftLabel, children: W }) }),
          T && /* @__PURE__ */ d.jsx("div", { style: c.rightLabelContainer, children: /* @__PURE__ */ d.jsx("div", { style: c.rightLabel, children: T }) })
        ]
      }
    )
  ] });
};
export {
  ge as default
};
